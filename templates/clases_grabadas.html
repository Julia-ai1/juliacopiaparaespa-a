<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Clases Educativas</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        .video-card {
            transition: transform 0.3s ease-in-out;
        }
        .video-card:hover {
            transform: scale(1.05);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 800px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-blue-600 text-white p-4">
        <h1 class="text-3xl font-bold text-center">Plataforma de Clases Educativas</h1>
    </header>

    <main class="container mx-auto mt-8 p-4">
        <div class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Filtrar por tema:</h2>
            <div id="topicFilters" class="flex flex-wrap gap-2">
                <!-- Los filtros se agregar치n aqu칤 din치micamente -->
            </div>
        </div>

        <div id="videoGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Las tarjetas de video se agregar치n aqu칤 din치micamente -->
        </div>
    </main>

    <div id="videoModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="videoPlayer"></div>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let allVideos = [];
        let activeFilter = null;
        let player;

        function loadVideos() {
            const mockResponse = {
                videos: [
                    {title: 'MATRICES Introducci칩n 游댛 Conceptos b치sicos 游댠 Tipos Clasificaci칩n y Matriz Traspuesta', video_id: 'dOZWZGx8l2c', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'MATRICES Operaciones Suma y Resta Ejercicios resueltos', video_id: '-0lb15PScN0', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Sistemas de ecuaciones matriciales', video_id: 'B-FeYk3MiUo', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Multiplicaci칩n de MATRICES Producto 2x2 y 2x3 Ejercicios resueltos 01', video_id: '1XTLdyJtA0A', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: '游눤 Multiplicaci칩n de MATRICES producto 2x2, 3x3 2x3 y 3x2 ejercicios resueltos 02 [ bachillerato ]', video_id: 'x1g5zXewxK4', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Operaciones con matrices TRUCOS multiplicaci칩n suma resta  propiedades', video_id: 'wMEHXzOvln0', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Hallar Matrices Conmutables 游댛 Ejercicios resueltos `[ Matrices y determinantes 2 bachillerato ]', video_id: 'XfwTHbetHzA', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'MULTIPLICACI칍N DE MATRICES Ejercicios resueltos Producto de matrices', video_id: 'jcTwGluMy8c', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Matrices ejercicios resueltos parte 1', video_id: 'lfQe08u4mt0', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Matrices ejercicios resueltos parte 2', video_id: 'sGQxNbWoA-w', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Potencia de MATRICES 游댛 Ejercicios resueltos', video_id: 'vDtwLk4lIoY', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Matriz c칤clica Ejercicios resueltos de matrices', video_id: 'CFc2k5Ftu8M', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Potencia de Matrices por recurrencia', video_id: 'Zrf4D3ijjxQ', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Potencia de matrices por induccion matriz enesima [ elevadas a un n칰mero alto ] 2 bachillerato', video_id: 'DQTXFcvpfQw', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Matrices 2 bachillerato con inc칩gnitas', video_id: '8pms0-hB2DE', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'MATRICES  2 bachillerato 游댛 Ejercicios resueltos de Ex치menes', video_id: 'aPGIakwlDZ4', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'POTENCIA DE MATRICES ejercicios resueltos', video_id: 'mGgv2QkAcVE', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'Problemas de matrices con enunciado Ejercicios contextualizados resueltos 01', video_id: 'swdyACrxdug', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: '游녤 Problemas de MATRICES con enunciado Ejercicios contextualizados  resueltos 02', video_id: 'vYLpS2nkSK4', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    {title: 'PROBLEMAS de MATRICES mediante el producto con enunciado Ejercicios contextualizados  resueltos 03', video_id: '2slKZ8xb3hs', topic: '츼lgebra lineal y Geometr칤a', course: 'ESO y Bachillerato', segment: 'Matrices', subject: 'Matem치ticas'},
                    // A침adir el resto de los videos aqu칤 en el mismo formato
                ]
            };
            allVideos = mockResponse.videos;
            updateTopicFilters();
            renderVideos(allVideos);
        }

        function updateTopicFilters() {
            const topics = [...new Set(allVideos.map(video => video.topic))];
            const filterContainer = document.getElementById('topicFilters');
            filterContainer.innerHTML = `<button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700" onclick="filterVideos(null)">Todos</button>`;
            topics.forEach(topic => {
                const button = document.createElement('button');
                button.className = 'px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 active:bg-gray-400';
                button.textContent = topic;
                button.onclick = () => filterVideos(topic);
                filterContainer.appendChild(button);
            });
        }

        function filterVideos(topic) {
            activeFilter = topic;
            const filteredVideos = topic ? allVideos.filter(video => video.topic === topic) : allVideos;
            renderVideos(filteredVideos);
            updateFilterButtons();
        }

        function updateFilterButtons() {
            const buttons = document.querySelectorAll('#topicFilters button');
            buttons.forEach(button => {
                if ((button.textContent === 'Todos' && !activeFilter) || button.textContent === activeFilter) {
                    button.classList.remove('bg-gray-200', 'hover:bg-gray-300', 'active:bg-gray-400');
                    button.classList.add('bg-blue-500', 'text-white', 'hover:bg-blue-600', 'active:bg-blue-700');
                } else {
                    button.classList.remove('bg-blue-500', 'text-white', 'hover:bg-blue-600', 'active:bg-blue-700');
                    button.classList.add('bg-gray-200', 'hover:bg-gray-300', 'active:bg-gray-400');
                }
            });
        }

        function renderVideos(videos) {
            const grid = document.getElementById('videoGrid');
            grid.innerHTML = '';
            videos.forEach(video => {
                const card = document.createElement('div');
                card.className = 'video-card bg-white rounded-lg shadow-md overflow-hidden';
                card.innerHTML = `
                    <img src="https://img.youtube.com/vi/${video.video_id}/0.jpg" alt="Thumbnail for ${video.title}" class="w-full h-48 object-cover cursor-pointer" onerror="this.src='https://via.placeholder.com/640x360.png?text=Video+no+disponible'">
                    <div class="p-4">
                        <h3 class="font-bold text-xl mb-2">${video.title}</h3>
                        <p class="text-gray-600 mb-2">Tema: ${video.topic}</p>
                        <p class="text-gray-600 mb-2">Curso: ${video.course}</p>
                        <p class="text-gray-600 mb-2">Segmento: ${video.segment}</p>
                        <p class="text-gray-600 mb-4">Asignatura: ${video.subject}</p>
                        <button onclick="openVideoModal('${video.video_id}')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Ver video</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openVideoModal(videoId) {
            const modal = document.getElementById('videoModal');
            const videoPlayer = document.getElementById('videoPlayer');
            modal.style.display = 'block';
            
            if (player) {
                player.loadVideoById(videoId);
            } else {
                player = new YT.Player('videoPlayer', {
                    height: '390',
                    width: '640',
                    videoId: videoId,
                    events: {
                        'onReady': onPlayerReady,
                        'onError': onPlayerError
                    }
                });
            }
        }

        function onPlayerReady(event) {
            event.target.playVideo();
        }

        function onPlayerError(event) {
            console.error('Error de reproducci칩n:', event.data);
            alert('Lo sentimos, este video no est치 disponible en este momento.');
            closeModal();
        }

        function closeModal() {
            const modal = document.getElementById('videoModal');
            modal.style.display = 'none';
            if (player) {
                player.stopVideo();
            }
        }

        const modal = document.getElementById('videoModal');
        const span = document.getElementsByClassName('close')[0];

        span.onclick = closeModal;

        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        window.onload = loadVideos;
    </script>
</body>
</html>
